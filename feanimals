-- ðŸŽ­ FE-Style Emote Player (Silly Cars mantÄ±ÄŸÄ±)
-- ðŸ“Œ X tuÅŸuyla menÃ¼yÃ¼ aÃ§/kapat

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hum = char:WaitForChild("Humanoid")
local animator = hum:FindFirstChildOfClass("Animator")

-- âœ… Emote Anim ID'lerini buraya gir
local Emotes = {
    ["Slithering Snake"] = "rbxassetid://105239435073356",
    ["Become a Shark"]   = "rbxassetid://78883190006382",
    ["Chicken Dance"]    = "rbxassetid://4849493309"
}

-- GUI
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "FEEmoteMenu"
screenGui.ResetOnSpawn = false

local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 260, 0, 250)
frame.Position = UDim2.new(0.7, 0, 0.4, 0)
frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Visible = false -- aÃ§/kapat iÃ§in kapalÄ± baÅŸlasÄ±n

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1,0,0,30)
title.BackgroundColor3 = Color3.fromRGB(0,200,100)
title.Text = "ðŸŽ­ FE Emote Player"
title.TextColor3 = Color3.fromRGB(255,255,255)
title.Font = Enum.Font.FredokaOne
title.TextScaled = true

-- Anim track referansÄ±
local currentTrack = nil

-- Anim oynatma fonksiyonu
local function playAnim(animId)
    if currentTrack then currentTrack:Stop() end
    local anim = Instance.new("Animation")
    anim.AnimationId = animId
    local track = animator:LoadAnimation(anim)
    track.Priority = Enum.AnimationPriority.Action -- âœ… Ã¼st gÃ¶vdeye uygular, yÃ¼rÃ¼yÃ¼ÅŸ bozulmaz
    track:Play()
    currentTrack = track
end

-- Buton oluÅŸturma fonksiyonu
local function addButton(name, animId, y)
    local btn = Instance.new("TextButton", frame)
    btn.Size = UDim2.new(1,-10,0,30)
    btn.Position = UDim2.new(0,5,0,y)
    btn.BackgroundColor3 = Color3.fromRGB(50,50,50)
    btn.Text = name
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.Font = Enum.Font.SourceSansBold
    btn.TextScaled = true

    btn.MouseButton1Click:Connect(function()
        playAnim(animId)
    end)
end

-- Stop butonu
local stopBtn = Instance.new("TextButton", frame)
stopBtn.Size = UDim2.new(1,-10,0,30)
stopBtn.Position = UDim2.new(0,5,1,-35)
stopBtn.BackgroundColor3 = Color3.fromRGB(200,50,50)
stopBtn.Text = "â›” Stop Animation"
stopBtn.TextColor3 = Color3.fromRGB(255,255,255)
stopBtn.Font = Enum.Font.SourceSansBold
stopBtn.TextScaled = true
stopBtn.MouseButton1Click:Connect(function()
    if currentTrack then
        currentTrack:Stop()
        currentTrack = nil
        hum:ChangeState(Enum.HumanoidStateType.Running) -- âœ… normale dÃ¶n
    end
end)

-- Emote listesi ekle
local i = 1
for name,id in pairs(Emotes) do
    addButton(name, id, 30 * i)
    i = i + 1
end

-- AÃ§/Kapat tuÅŸu (X)
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.X then
        frame.Visible = not frame.Visible
    end
end)
